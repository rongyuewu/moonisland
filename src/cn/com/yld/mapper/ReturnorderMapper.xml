<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.com.yld.mapper.ReturnorderMapper">
	<resultMap type="Returnorder" id="returnorder">
		<id column="return_id" property="returnId"/>
		<result column="order_id" property="orderId"/>
		<result column="user_id" property="userId"/>
		<result column="goods_id" property="goodsId"/>
		<result column="reason" property="reason"/>
		<result column="return_status" property="returnStatus"/>
		<result column="return_time" property="returnTime"/>
		<!-- 多对一 -->
		<association property="user" javaType="User">
			<id column="user_id" property="userId" />
			<result column="points" property="points" />
			<result column="user_level" property="userLevel" />
			<result column="is_privilege" property="isPrivilege" />
			<result column="privilege_num" property="privilegeNum" />
			<result column="phone" property="phone" />
			<result column="nick_name" property="nickName" />
			<result column="header_pic" property="headerPic" />
			<result column="password" property="password" />
			<result column="sex" property="sex" />
			<result column="birthday" property="birthday" />
			<result column="zipcode" property="zipcode" />
			<result column="mobile" property="mobile" />
			<result column="mail" property="mail" />
			<result column="user_time" property="userTime" />
			<result column="user_status" property="userStatus" />
		</association>
		<association property="order" javaType="Order">
			<id column="order_id" property="orderId"/>
			<result column="order_number" property="orderNumber"/>
		  	<result column="goods_id" property="goodsId"/>
		  	<result column="glass_id" property="glassId"/>
		  	<result column="user_id" property="userId"/>
		  	<result column="optometry_id" property="optometryId"/>
		  	<result column="order_status" property="orderStatus"/>
		  	<result column="shipping_status" property="shippingStatus"/>
		  	<result column="pay_status" property="payStatus"/>
		  	<result column="consignee" property="consignee"/>
		  	<result column="provinceid" property="provinceid"/>
		  	<result column="cityid" property="cityid"/>
		  	<result column="districtid" property="districtid"/>
		  	<result column="address" property="address"/>
		  	<result column="zipcode" property="zipcode"/>
		  	<result column="phone" property="phone"/>
		  	<result column="pay_num" property="payNum"/>
		  	<result column="order_money" property="orderMoney"/>
		  	<result column="postscript" property="postscript"/>
		  	<result column="shipping_id" property="shippingId"/>
		  	<result column="shipping_name" property="shippingName"/>
		  	<result column="shipping_num" property="shippingNum"/>
		  	<result column="order_time" property="orderTime"/>
		  	<result column="goods_attr_id" property="goodsAttrid"/>
		  	<result column="pic_id" property="picId"/>
		</association>
	</resultMap>
	<!-- 查询 -->
	<select id="findall" resultMap="returnorder">
		select * from moon_returnorder 
	</select>
	<!-- 更改 -->
	<update id="update">
		update moon_returnorder set
		<trim prefixOverrides=",">
			<if test="orderId != null">
				order_id=#{orderId}
			</if>
			<if test="userId != null">
				user_id=#{userId}
			</if>
			<if test="goodsId != null">
				goods_id=#{goodsId}
			</if>
			<if test="reason != null">
				reason=#{reason}
			</if>
			<if test="returnStatus != null">
				return_status=#{returnStatus}
			</if>
			<if test="returnTime != null">
				return_time=#{returnTime}
			</if>
		</trim>
		where return_id=#{returnId}
	</update>
</mapper>